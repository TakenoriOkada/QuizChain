{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/toolboxb/Desktop/ZAMA/%E5%8D%81%E6%9C%88%E9%A1%B9%E7%9B%AE/%E7%AD%94%E9%A2%98%E6%B8%B8%E6%88%8F/action/quizchain/site/fhevm/internal/fhevm.ts"],"sourcesContent":["import { Eip1193Provider, JsonRpcProvider, isAddress } from \"ethers\";\nimport type { FhevmInstance, FhevmInstanceConfig } from \"../types\";\n\ntype FhevmWindowType = typeof window & {\n  relayerSDK: any & { __initialized__?: boolean; SepoliaConfig: any };\n};\n\nconst SDK_CDN_URL =\n  \"https://cdn.zama.ai/relayer-sdk-js/0.2.0/relayer-sdk-js.umd.cjs\";\n\nfunction isFhevmWindowType(w: any): w is FhevmWindowType {\n  return typeof w !== \"undefined\" && w.relayerSDK;\n}\n\nexport const loadSDK = (): Promise<void> =>\n  new Promise((resolve, reject) => {\n    if (isFhevmWindowType(window) && window.relayerSDK) {\n      resolve();\n      return;\n    }\n    const s = document.createElement(\"script\");\n    s.src = SDK_CDN_URL;\n    s.type = \"text/javascript\";\n    s.async = true;\n    s.onload = () => resolve();\n    s.onerror = () => reject(new Error(\"Failed to load Relayer SDK\"));\n    document.head.appendChild(s);\n  });\n\nexport const initSDK = async (): Promise<void> => {\n  if (!isFhevmWindowType(window)) throw new Error(\"window.relayerSDK missing\");\n  if (window.relayerSDK.__initialized__) return;\n  const ok = await window.relayerSDK.initSDK();\n  if (!ok) throw new Error(\"initSDK failed\");\n  window.relayerSDK.__initialized__ = true;\n};\n\nasync function getChainId(providerOrUrl: Eip1193Provider | string): Promise<number> {\n  if (typeof providerOrUrl === \"string\") {\n    const p = new JsonRpcProvider(providerOrUrl);\n    return Number((await p.getNetwork()).chainId);\n  }\n  const hex = (await providerOrUrl.request({ method: \"eth_chainId\" })) as string;\n  return Number.parseInt(hex, 16);\n}\n\nasync function getWeb3Client(rpcUrl: string) {\n  const rpc = new JsonRpcProvider(rpcUrl);\n  const v = await rpc.send(\"web3_clientVersion\", []);\n  await rpc.destroy();\n  return String(v);\n}\n\nasync function tryFetchFHEVMHardhatNodeRelayerMetadata(rpcUrl: string) {\n  const version = await getWeb3Client(rpcUrl);\n  if (!version.toLowerCase().includes(\"hardhat\")) return undefined;\n  const rpc = new JsonRpcProvider(rpcUrl);\n  try {\n    const meta = await rpc.send(\"fhevm_relayer_metadata\", []);\n    return meta as {\n      ACLAddress: `0x${string}`;\n      InputVerifierAddress: `0x${string}`;\n      KMSVerifierAddress: `0x${string}`;\n    };\n  } finally {\n    await rpc.destroy();\n  }\n}\n\ntype ResolveResult =\n  | { isMock: true; chainId: number; rpcUrl: string }\n  | { isMock: false; chainId: number; rpcUrl?: string };\n\nasync function resolve(providerOrUrl: Eip1193Provider | string, mockChains?: Record<number, string>): Promise<ResolveResult> {\n  const chainId = await getChainId(providerOrUrl);\n  let rpcUrl = typeof providerOrUrl === \"string\" ? providerOrUrl : undefined;\n  const defaults = { 31337: \"http://localhost:8545\", ...(mockChains ?? {}) };\n  if (Object.hasOwn(defaults, chainId)) {\n    if (!rpcUrl) rpcUrl = defaults[chainId];\n    return { isMock: true, chainId, rpcUrl: rpcUrl! };\n  }\n  return { isMock: false, chainId, rpcUrl };\n}\n\nexport async function createFhevmInstance(parameters: {\n  provider: Eip1193Provider | string;\n  mockChains?: Record<number, string>;\n}): Promise<FhevmInstance> {\n  const { provider, mockChains } = parameters;\n  const { isMock, rpcUrl } = await resolve(provider, mockChains);\n\n  if (isMock) {\n    const meta = await tryFetchFHEVMHardhatNodeRelayerMetadata(rpcUrl!);\n    if (meta) {\n      const mod = await import(\"./mock/fhevmMock\");\n      return mod.fhevmMockCreateInstance({ rpcUrl: rpcUrl!, chainId: 31337, metadata: meta });\n    }\n  }\n\n  await loadSDK();\n  await initSDK();\n\n  const relayerSDK = (window as unknown as FhevmWindowType).relayerSDK;\n  const cfg = relayerSDK.SepoliaConfig;\n  const config: FhevmInstanceConfig = { ...cfg, network: provider };\n  const instance = await relayerSDK.createInstance(config);\n  return instance as FhevmInstance;\n}\n\n\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAOA,MAAM,cACJ;AAEF,SAAS,kBAAkB,CAAM;IAC/B,OAAO,OAAO,MAAM,eAAe,EAAE,UAAU;AACjD;AAEO,MAAM,UAAU,IACrB,IAAI,QAAQ,CAAC,SAAS;QACpB,IAAI,kBAAkB,WAAW,OAAO,UAAU,EAAE;YAClD;YACA;QACF;QACA,MAAM,IAAI,SAAS,aAAa,CAAC;QACjC,EAAE,GAAG,GAAG;QACR,EAAE,IAAI,GAAG;QACT,EAAE,KAAK,GAAG;QACV,EAAE,MAAM,GAAG,IAAM;QACjB,EAAE,OAAO,GAAG,IAAM,OAAO,IAAI,MAAM;QACnC,SAAS,IAAI,CAAC,WAAW,CAAC;IAC5B;AAEK,MAAM,UAAU;IACrB,IAAI,CAAC,kBAAkB,SAAS,MAAM,IAAI,MAAM;IAChD,IAAI,OAAO,UAAU,CAAC,eAAe,EAAE;IACvC,MAAM,KAAK,MAAM,OAAO,UAAU,CAAC,OAAO;IAC1C,IAAI,CAAC,IAAI,MAAM,IAAI,MAAM;IACzB,OAAO,UAAU,CAAC,eAAe,GAAG;AACtC;AAEA,eAAe,WAAW,aAAuC;IAC/D,IAAI,OAAO,kBAAkB,UAAU;QACrC,MAAM,IAAI,IAAI,8LAAe,CAAC;QAC9B,OAAO,OAAO,CAAC,MAAM,EAAE,UAAU,EAAE,EAAE,OAAO;IAC9C;IACA,MAAM,MAAO,MAAM,cAAc,OAAO,CAAC;QAAE,QAAQ;IAAc;IACjE,OAAO,OAAO,QAAQ,CAAC,KAAK;AAC9B;AAEA,eAAe,cAAc,MAAc;IACzC,MAAM,MAAM,IAAI,8LAAe,CAAC;IAChC,MAAM,IAAI,MAAM,IAAI,IAAI,CAAC,sBAAsB,EAAE;IACjD,MAAM,IAAI,OAAO;IACjB,OAAO,OAAO;AAChB;AAEA,eAAe,wCAAwC,MAAc;IACnE,MAAM,UAAU,MAAM,cAAc;IACpC,IAAI,CAAC,QAAQ,WAAW,GAAG,QAAQ,CAAC,YAAY,OAAO;IACvD,MAAM,MAAM,IAAI,8LAAe,CAAC;IAChC,IAAI;QACF,MAAM,OAAO,MAAM,IAAI,IAAI,CAAC,0BAA0B,EAAE;QACxD,OAAO;IAKT,SAAU;QACR,MAAM,IAAI,OAAO;IACnB;AACF;AAMA,eAAe,QAAQ,aAAuC,EAAE,UAAmC;IACjG,MAAM,UAAU,MAAM,WAAW;IACjC,IAAI,SAAS,OAAO,kBAAkB,WAAW,gBAAgB;IACjE,MAAM,WAAW;QAAE,OAAO;QAAyB,GAAI,uBAAA,wBAAA,aAAc,CAAC,CAAC;IAAE;IACzE,IAAI,OAAO,MAAM,CAAC,UAAU,UAAU;QACpC,IAAI,CAAC,QAAQ,SAAS,QAAQ,CAAC,QAAQ;QACvC,OAAO;YAAE,QAAQ;YAAM;YAAS,QAAQ;QAAQ;IAClD;IACA,OAAO;QAAE,QAAQ;QAAO;QAAS;IAAO;AAC1C;AAEO,eAAe,oBAAoB,UAGzC;IACC,MAAM,EAAE,QAAQ,EAAE,UAAU,EAAE,GAAG;IACjC,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,QAAQ,UAAU;IAEnD,IAAI,QAAQ;QACV,MAAM,OAAO,MAAM,wCAAwC;QAC3D,IAAI,MAAM;YACR,MAAM,MAAM;YACZ,OAAO,IAAI,uBAAuB,CAAC;gBAAE,QAAQ;gBAAS,SAAS;gBAAO,UAAU;YAAK;QACvF;IACF;IAEA,MAAM;IACN,MAAM;IAEN,MAAM,aAAa,AAAC,OAAsC,UAAU;IACpE,MAAM,MAAM,WAAW,aAAa;IACpC,MAAM,SAA8B;QAAE,GAAG,GAAG;QAAE,SAAS;IAAS;IAChE,MAAM,WAAW,MAAM,WAAW,cAAc,CAAC;IACjD,OAAO;AACT","debugId":null}},
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///Users/toolboxb/Desktop/ZAMA/%E5%8D%81%E6%9C%88%E9%A1%B9%E7%9B%AE/%E7%AD%94%E9%A2%98%E6%B8%B8%E6%88%8F/action/quizchain/site/abi/QuizChainABI.ts"],"sourcesContent":["export const QuizChainABI = {\n  \"abi\": [\n    {\n      \"inputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"constructor\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"sender\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        },\n        {\n          \"internalType\": \"address\",\n          \"name\": \"owner\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"ERC721IncorrectOwner\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"operator\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"ERC721InsufficientApproval\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"approver\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"ERC721InvalidApprover\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"operator\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"ERC721InvalidOperator\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"owner\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"ERC721InvalidOwner\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"receiver\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"ERC721InvalidReceiver\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"sender\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"ERC721InvalidSender\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"ERC721NonexistentToken\",\n      \"type\": \"error\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"user\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": true,\n          \"internalType\": \"uint256\",\n          \"name\": \"quizId\",\n          \"type\": \"uint256\"\n        },\n        {\n          \"indexed\": false,\n          \"internalType\": \"bool\",\n          \"name\": \"correct\",\n          \"type\": \"bool\"\n        }\n      ],\n      \"name\": \"AnswerVerified\",\n      \"type\": \"event\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"owner\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"approved\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": true,\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"Approval\",\n      \"type\": \"event\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"owner\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"operator\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": false,\n          \"internalType\": \"bool\",\n          \"name\": \"approved\",\n          \"type\": \"bool\"\n        }\n      ],\n      \"name\": \"ApprovalForAll\",\n      \"type\": \"event\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"user\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": false,\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        },\n        {\n          \"indexed\": false,\n          \"internalType\": \"uint256\",\n          \"name\": \"timestamp\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"NFTClaimed\",\n      \"type\": \"event\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"user\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": false,\n          \"internalType\": \"uint256\",\n          \"name\": \"score\",\n          \"type\": \"uint256\"\n        },\n        {\n          \"indexed\": false,\n          \"internalType\": \"uint256\",\n          \"name\": \"timestamp\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"QuizCompleted\",\n      \"type\": \"event\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"from\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"to\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": true,\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"Transfer\",\n      \"type\": \"event\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"to\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"approve\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"owner\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"balanceOf\",\n      \"outputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"claimNFT\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"getApproved\",\n      \"outputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"\",\n          \"type\": \"address\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"getEncryptedScore\",\n      \"outputs\": [\n        {\n          \"internalType\": \"euint32\",\n          \"name\": \"\",\n          \"type\": \"bytes32\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"offset\",\n          \"type\": \"uint256\"\n        },\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"limit\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"getPlayers\",\n      \"outputs\": [\n        {\n          \"internalType\": \"address[]\",\n          \"name\": \"\",\n          \"type\": \"address[]\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"owner\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"address\",\n          \"name\": \"operator\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"isApprovedForAll\",\n      \"outputs\": [\n        {\n          \"internalType\": \"bool\",\n          \"name\": \"\",\n          \"type\": \"bool\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"name\",\n      \"outputs\": [\n        {\n          \"internalType\": \"string\",\n          \"name\": \"\",\n          \"type\": \"string\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"nextTokenId\",\n      \"outputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"ownerOf\",\n      \"outputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"\",\n          \"type\": \"address\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"protocolId\",\n      \"outputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"stateMutability\": \"pure\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"quizzes\",\n      \"outputs\": [\n        {\n          \"internalType\": \"bytes32\",\n          \"name\": \"answerHash\",\n          \"type\": \"bytes32\"\n        },\n        {\n          \"internalType\": \"uint32\",\n          \"name\": \"points\",\n          \"type\": \"uint32\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"from\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"address\",\n          \"name\": \"to\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"safeTransferFrom\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"from\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"address\",\n          \"name\": \"to\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        },\n        {\n          \"internalType\": \"bytes\",\n          \"name\": \"data\",\n          \"type\": \"bytes\"\n        }\n      ],\n      \"name\": \"safeTransferFrom\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"scoreThreshold\",\n      \"outputs\": [\n        {\n          \"internalType\": \"uint32\",\n          \"name\": \"\",\n          \"type\": \"uint32\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"operator\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"bool\",\n          \"name\": \"approved\",\n          \"type\": \"bool\"\n        }\n      ],\n      \"name\": \"setApprovalForAll\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"quizId\",\n          \"type\": \"uint256\"\n        },\n        {\n          \"internalType\": \"bytes32\",\n          \"name\": \"answerHash\",\n          \"type\": \"bytes32\"\n        },\n        {\n          \"internalType\": \"uint32\",\n          \"name\": \"points\",\n          \"type\": \"uint32\"\n        }\n      ],\n      \"name\": \"setQuiz\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"uint256[]\",\n          \"name\": \"quizIds\",\n          \"type\": \"uint256[]\"\n        },\n        {\n          \"internalType\": \"bytes32[]\",\n          \"name\": \"answerHashes\",\n          \"type\": \"bytes32[]\"\n        },\n        {\n          \"internalType\": \"uint32[]\",\n          \"name\": \"points\",\n          \"type\": \"uint32[]\"\n        }\n      ],\n      \"name\": \"setQuizzes\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"uint32\",\n          \"name\": \"threshold\",\n          \"type\": \"uint32\"\n        }\n      ],\n      \"name\": \"setScoreThreshold\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"bytes4\",\n          \"name\": \"interfaceId\",\n          \"type\": \"bytes4\"\n        }\n      ],\n      \"name\": \"supportsInterface\",\n      \"outputs\": [\n        {\n          \"internalType\": \"bool\",\n          \"name\": \"\",\n          \"type\": \"bool\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"symbol\",\n      \"outputs\": [\n        {\n          \"internalType\": \"string\",\n          \"name\": \"\",\n          \"type\": \"string\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"tokenURI\",\n      \"outputs\": [\n        {\n          \"internalType\": \"string\",\n          \"name\": \"\",\n          \"type\": \"string\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"from\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"address\",\n          \"name\": \"to\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"transferFrom\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"quizId\",\n          \"type\": \"uint256\"\n        },\n        {\n          \"internalType\": \"bytes32\",\n          \"name\": \"answerHash\",\n          \"type\": \"bytes32\"\n        },\n        {\n          \"internalType\": \"externalEuint32\",\n          \"name\": \"encryptedPoints\",\n          \"type\": \"bytes32\"\n        },\n        {\n          \"internalType\": \"bytes\",\n          \"name\": \"inputProof\",\n          \"type\": \"bytes\"\n        }\n      ],\n      \"name\": \"verifyAnswer\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    }\n  ]\n} as const;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 840, "column": 0}, "map": {"version":3,"sources":["file:///Users/toolboxb/Desktop/ZAMA/%E5%8D%81%E6%9C%88%E9%A1%B9%E7%9B%AE/%E7%AD%94%E9%A2%98%E6%B8%B8%E6%88%8F/action/quizchain/site/abi/QuizChainAddresses.ts"],"sourcesContent":["export const QuizChainAddresses = {\n  \"sepolia\": {\n    \"address\": \"0xbbF76887163A21F90fcBfcc942a56036953d28A5\",\n    \"chainName\": \"sepolia\"\n  }\n} as const;\n"],"names":[],"mappings":";;;;AAAO,MAAM,qBAAqB;IAChC,WAAW;QACT,WAAW;QACX,aAAa;IACf;AACF","debugId":null}},
    {"offset": {"line": 857, "column": 0}, "map": {"version":3,"sources":["file:///Users/toolboxb/Desktop/ZAMA/%E5%8D%81%E6%9C%88%E9%A1%B9%E7%9B%AE/%E7%AD%94%E9%A2%98%E6%B8%B8%E6%88%8F/action/quizchain/site/hooks/quizBank.ts"],"sourcesContent":["import { keccak256, toUtf8Bytes } from \"ethers\";\n\nconst QUESTION_ID_BITS = 32n;\nconst QUESTION_ID_MASK = (1n << QUESTION_ID_BITS) - 1n;\nconst BANK_ID_BITS = 224n; // 256 - 32\nconst BANK_ID_MASK = (1n << BANK_ID_BITS) - 1n;\n\nexport function deriveBankIdFromCid(cid: string): bigint {\n  const hex = keccak256(toUtf8Bytes(cid));\n  // 只保留低 224 位，避免左移 32 位后溢出 uint256\n  return BigInt(hex) & BANK_ID_MASK;\n}\n\nexport function makeCompositeId(bankId: bigint, questionId: number): bigint {\n  const bank224 = bankId & BANK_ID_MASK;\n  return (bank224 << QUESTION_ID_BITS) | BigInt(questionId >>> 0);\n}\n\nexport function makeCompositeIdFromCidAndQuestion(cid: string, questionId: number): bigint {\n  const bank = deriveBankIdFromCid(cid);\n  return makeCompositeId(bank, questionId);\n}\n\nexport function splitCompositeId(id: bigint): { bankId: bigint; questionId: number } {\n  const q = Number(id & QUESTION_ID_MASK);\n  const b = id >> QUESTION_ID_BITS;\n  return { bankId: b, questionId: q };\n}\n\nexport function shortHex(bi: bigint, len = 8): string {\n  const hex = bi.toString(16);\n  const h = hex.length > len ? hex.slice(0, len) + \"…\" : hex;\n  return \"0x\" + h;\n}\n\n\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AAAA;;AAEA,MAAM,mBAAmB,GAAG;AAC5B,MAAM,mBAAmB,CAAC,EAAE,IAAI,gBAAgB,IAAI,EAAE;AACtD,MAAM,eAAe,IAAI,EAAE,WAAW;AACtC,MAAM,eAAe,CAAC,EAAE,IAAI,YAAY,IAAI,EAAE;AAEvC,SAAS,oBAAoB,GAAW;IAC7C,MAAM,MAAM,IAAA,wKAAS,EAAC,IAAA,uKAAW,EAAC;IAClC,kCAAkC;IAClC,OAAO,OAAO,OAAO;AACvB;AAEO,SAAS,gBAAgB,MAAc,EAAE,UAAkB;IAChE,MAAM,UAAU,SAAS;IACzB,OAAO,AAAC,WAAW,mBAAoB,OAAO,eAAe;AAC/D;AAEO,SAAS,kCAAkC,GAAW,EAAE,UAAkB;IAC/E,MAAM,OAAO,oBAAoB;IACjC,OAAO,gBAAgB,MAAM;AAC/B;AAEO,SAAS,iBAAiB,EAAU;IACzC,MAAM,IAAI,OAAO,KAAK;IACtB,MAAM,IAAI,MAAM;IAChB,OAAO;QAAE,QAAQ;QAAG,YAAY;IAAE;AACpC;AAEO,SAAS,SAAS,EAAU;QAAE,MAAA,iEAAM;IACzC,MAAM,MAAM,GAAG,QAAQ,CAAC;IACxB,MAAM,IAAI,IAAI,MAAM,GAAG,MAAM,IAAI,KAAK,CAAC,GAAG,OAAO,MAAM;IACvD,OAAO,OAAO;AAChB","debugId":null}},
    {"offset": {"line": 910, "column": 0}, "map": {"version":3,"sources":["file:///Users/toolboxb/Desktop/ZAMA/%E5%8D%81%E6%9C%88%E9%A1%B9%E7%9B%AE/%E7%AD%94%E9%A2%98%E6%B8%B8%E6%88%8F/action/quizchain/site/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport { BrowserProvider, Contract, JsonRpcSigner, ethers, keccak256, toUtf8Bytes } from \"ethers\";\nimport { createFhevmInstance } from \"../fhevm/internal/fhevm\";\nimport { QuizChainABI } from \"../abi/QuizChainABI\";\nimport { QuizChainAddresses } from \"../abi/QuizChainAddresses\";\nimport Link from \"next/link\";\nimport { makeCompositeIdFromCidAndQuestion } from \"../hooks/quizBank\";\nimport { deriveBankIdFromCid, shortHex } from \"../hooks/quizBank\";\n\nexport default function HomePage() {\n  const [provider, setProvider] = useState<ethers.Eip1193Provider | string | undefined>(undefined);\n  const [signer, setSigner] = useState<JsonRpcSigner | undefined>(undefined);\n  const [address, setAddress] = useState<string | undefined>(undefined);\n  const [chainId, setChainId] = useState<number | undefined>(undefined);\n  const [instance, setInstance] = useState<any>(undefined);\n  const [fhevmStatus, setFhevmStatus] = useState<string>(\"未初始化\");\n  const [message, setMessage] = useState<string>(\"\");\n  \n  // 题库上传相关\n  const [quizFile, setQuizFile] = useState<File | null>(null);\n  const [uploading, setUploading] = useState(false);\n  const [uploadedCID, setUploadedCID] = useState<string>(\"\");\n  const [uploadStep, setUploadStep] = useState<\"idle\" | \"pinning\" | \"writing\" | \"done\" | \"error\">(\"idle\");\n  const [cidManual, setCidManual] = useState<string>(\"\");\n\n  useEffect(() => {\n    const w = (window as any).ethereum;\n    if (!w) return;\n    setProvider(w);\n    const bp = new BrowserProvider(w);\n    bp.getSigner().then((s) => setSigner(s));\n    w.request({ method: \"eth_chainId\" }).then((h: string) => setChainId(parseInt(h, 16)));\n    w.request({ method: \"eth_requestAccounts\" }).then(async (accounts: string[]) => {\n      setAddress(accounts?.[0]);\n    });\n  }, []);\n\n  useEffect(() => {\n    if (!provider || !chainId) return;\n    setFhevmStatus(\"加载中...\");\n    createFhevmInstance({ provider, mockChains: { 31337: \"http://localhost:8545\" } })\n      .then((i) => {\n        setInstance(i);\n        setFhevmStatus(\"✓ 已就绪\");\n      })\n      .catch((e) => {\n        setFhevmStatus(\"✗ 失败: \" + e.message);\n      });\n  }, [provider, chainId]);\n\n  const contractInfo = useMemo(() => {\n    if (!chainId) return undefined as any;\n    const n = chainId === 31337 ? \"localhost\" : chainId === 11155111 ? \"sepolia\" : undefined;\n    if (!n) return undefined as any;\n    const info = (QuizChainAddresses as any)[n];\n    if (!info?.address) return undefined as any;\n    return info;\n  }, [chainId]);\n\n  const contract = useMemo(() => {\n    if (!signer || !contractInfo?.address) return undefined;\n    return new Contract(contractInfo.address, QuizChainABI.abi, signer);\n  }, [signer, contractInfo]);\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files?.[0]) {\n      setQuizFile(e.target.files[0]);\n    }\n  };\n\n  const uploadToPinata = async () => {\n    if (!quizFile) return;\n    setUploading(true);\n    setUploadStep(\"pinning\");\n    setMessage(\"正在上传到 Pinata...\");\n    try {\n      const text = await quizFile.text();\n      const json = JSON.parse(text);\n      \n      const res = await fetch(\"https://api.pinata.cloud/pinning/pinJSONToIPFS\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiIxNTdkZjg5OS0wZjNhLTQxYTUtOTEyMi02YTAxNGM1ZDVjNmQiLCJlbWFpbCI6InN1bmpmNjI2QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJwaW5fcG9saWN5Ijp7InJlZ2lvbnMiOlt7ImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxLCJpZCI6IkZSQTEifSx7ImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxLCJpZCI6Ik5ZQzEifV0sInZlcnNpb24iOjF9LCJtZmFfZW5hYmxlZCI6ZmFsc2UsInN0YXR1cyI6IkFDVElWRSJ9LCJhdXRoZW50aWNhdGlvblR5cGUiOiJzY29wZWRLZXkiLCJzY29wZWRLZXlLZXkiOiI0M2U5N2ZmMDI1YmUzY2Q3NzJiMiIsInNjb3BlZEtleVNlY3JldCI6IjlhMTViY2I2ZmZkZjE4YWVlZDUwM2I5Zjk1ZTMzZDIyOTBjYTI2YmM2MzU3NWI2ODM1ODkyMGRjNzZiMjZmYTciLCJleHAiOjE3OTE1OTQwNzB9.bLafx4ZoPiKe8Yew08DlqFHhNW7Aaz74dLCoOxc_264`,\n        },\n        body: JSON.stringify({ pinataContent: json, pinataMetadata: { name: \"quizchain-quiz\" } }),\n      });\n      const data = await res.json();\n      setUploadedCID(data.IpfsHash);\n      setMessage(`✓ 上传成功！CID: ${data.IpfsHash}`);\n      \n      // 批量写入合约（一次交易）\n      if (contract) {\n        setUploadStep(\"writing\");\n        setMessage(\"正在写入链上题库（批量）...\");\n        // 使用 复合ID(题库CID+题目id)，与答题时的复合ID保持一致\n        const ids = json.map((q: any) => makeCompositeIdFromCidAndQuestion(data.IpfsHash, q.id));\n        const hashes = json.map((q: any) => keccak256(toUtf8Bytes(q.answer || q.options[0])));\n        const points = json.map(() => 10);\n        await (await contract.setQuizzes(ids, hashes, points)).wait();\n        setMessage(\"✓ 题库已上链！\");\n        setUploadStep(\"done\");\n      } else {\n        setUploadStep(\"done\");\n        setMessage((m) => m + \" （未检测到合约实例，已跳过写链）\");\n      }\n    } catch (e: any) {\n      setUploadStep(\"error\");\n      setMessage(\"✗ 上传失败: \" + e.message);\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const connectWallet = async () => {\n    const w = (window as any).ethereum;\n    if (!w) {\n      alert(\"请先安装 MetaMask\");\n      return;\n    }\n    await w.request({ method: \"eth_requestAccounts\" });\n  };\n\n  return (\n    <div style={{ minHeight: \"100vh\", padding: \"40px 20px\" }}>\n      <div style={{ maxWidth: 1200, margin: \"0 auto\" }}>\n        {/* Logo + 标题 */}\n        <div style={{ textAlign: \"center\", marginBottom: 48 }}>\n          <h1 className=\"neon-text\" style={{ fontSize: 56, fontWeight: 900, marginBottom: 16 }}>\n            QuizChain\n          </h1>\n          <p style={{ fontSize: 18, color: \"#00E0FF\" }}>链上答题赢 NFT · FHEVM 加密隐私保护</p>\n        </div>\n\n        {/* 钱包连接 */}\n        {!address && (\n          <div className=\"card\" style={{ textAlign: \"center\", marginBottom: 32 }}>\n            <button onClick={connectWallet} className=\"neon-button\" style={{ fontSize: 20, padding: \"16px 48px\" }}>\n              连接 MetaMask\n            </button>\n          </div>\n        )}\n\n        {address && (\n          <>\n            {/* 用户信息卡片 */}\n            <div className=\"card\" style={{ marginBottom: 32 }}>\n              <h2 style={{ fontSize: 24, marginBottom: 16, color: \"#00E0FF\" }}>用户信息</h2>\n              <div style={{ display: \"grid\", gap: 12 }}>\n                <div>\n                  <span style={{ opacity: 0.7 }}>钱包地址: </span>\n                  <span style={{ fontFamily: \"monospace\", color: \"#00E0FF\" }}>{address.slice(0, 6)}...{address.slice(-4)}</span>\n                </div>\n                <div>\n                  <span style={{ opacity: 0.7 }}>网络: </span>\n                  <span style={{ color: \"#00E0FF\" }}>{chainId === 11155111 ? \"Sepolia\" : chainId === 31337 ? \"Localhost\" : chainId}</span>\n                </div>\n                <div>\n                  <span style={{ opacity: 0.7 }}>合约地址: </span>\n                  <span style={{ fontFamily: \"monospace\", color: \"#00E0FF\" }}>{contractInfo?.address || \"未部署\"}</span>\n                </div>\n              </div>\n            </div>\n\n            {/* FHEVM 状态面板 */}\n            <div className=\"card\" style={{ marginBottom: 32 }}>\n              <h2 style={{ fontSize: 24, marginBottom: 16, color: \"#00E0FF\" }}>FHEVM 状态</h2>\n              <div style={{ display: \"grid\", gap: 12 }}>\n                <div style={{ display: \"flex\", alignItems: \"center\", gap: 12 }}>\n                  <div className={fhevmStatus.includes(\"就绪\") ? \"pulse\" : \"\"} style={{\n                    width: 12, height: 12, borderRadius: \"50%\",\n                    background: fhevmStatus.includes(\"就绪\") ? \"#00E0FF\" : fhevmStatus.includes(\"失败\") ? \"#FF4444\" : \"#FFA500\",\n                    boxShadow: fhevmStatus.includes(\"就绪\") ? \"0 0 10px #00E0FF\" : \"\"\n                  }} />\n                  <span>{fhevmStatus}</span>\n                </div>\n                <div>\n                  <span style={{ opacity: 0.7 }}>实例类型: </span>\n                  <span>{chainId === 31337 ? \"Mock (本地)\" : \"Relayer SDK (Sepolia)\"}</span>\n                </div>\n                <div>\n                  <span style={{ opacity: 0.7 }}>SDK 版本: </span>\n                  <span>0.2.0</span>\n                </div>\n              </div>\n            </div>\n\n            {/* 题库上传 */}\n            <div className=\"card\" style={{ marginBottom: 32 }}>\n              <h2 style={{ fontSize: 24, marginBottom: 16, color: \"#00E0FF\" }}>📤 上传题库</h2>\n              <div style={{ display: \"grid\", gap: 16 }}>\n                <input\n                  type=\"file\"\n                  accept=\".json\"\n                  onChange={handleFileChange}\n                  style={{\n                    padding: 12, borderRadius: 8, border: \"1px solid rgba(0, 224, 255, 0.3)\",\n                    background: \"rgba(255,255,255,0.05)\", color: \"#fff\"\n                  }}\n                />\n                <button\n                  onClick={uploadToPinata}\n                  disabled={!quizFile || uploading}\n                  className=\"neon-button\"\n                  style={{ width: \"100%\" }}\n                >\n                  {uploadStep === \"idle\" && \"上传到 IPFS 并写入链上\"}\n                  {uploadStep === \"pinning\" && \"正在上传到 IPFS...\"}\n                  {uploadStep === \"writing\" && \"正在写入链上...\"}\n                  {uploadStep === \"done\" && \"✓ 已完成（可重复上传覆盖）\"}\n                  {uploadStep === \"error\" && \"✗ 失败，重试\"}\n                </button>\n                {uploadedCID && (\n                  <div style={{ padding: 12, background: \"rgba(0, 224, 255, 0.1)\", borderRadius: 8 }}>\n                    <div style={{ marginBottom: 8 }}>CID: <span style={{ fontFamily: \"monospace\", color: \"#00E0FF\" }}>{uploadedCID}</span></div>\n                    <div style={{ fontSize: 14, opacity: 0.8 }}>题库ID: <span style={{ fontFamily: \"monospace\" }}>{shortHex(deriveBankIdFromCid(uploadedCID))}</span></div>\n                    <div style={{ fontSize: 14, opacity: 0.8 }}>请将此 CID 填入答题页使用</div>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* 操作按钮 */}\n            <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(auto-fit, minmax(200px, 1fr))\", gap: 16, marginBottom: 32 }}>\n              <Link href={uploadedCID ? `/quiz?cid=${uploadedCID}` : \"/quiz\"} style={{ textDecoration: \"none\" }}>\n                <button className=\"neon-button\" style={{ width: \"100%\", padding: 20 }} disabled={!uploadedCID}>\n                  🎯 开始答题\n                </button>\n              </Link>\n              <Link href=\"/records\" style={{ textDecoration: \"none\" }}>\n                <button className=\"neon-button\" style={{ width: \"100%\", padding: 20 }}>\n                  📘 我的答题记录\n                </button>\n              </Link>\n              <Link href=\"/rank\" style={{ textDecoration: \"none\" }}>\n                <button className=\"neon-button\" style={{ width: \"100%\", padding: 20 }}>\n                  🏆 排行榜\n                </button>\n              </Link>\n            </div>\n\n            {/* 手动输入 CID 开始答题 */}\n            <div className=\"card\" style={{ marginBottom: 32 }}>\n              <h3 style={{ fontSize: 18, marginBottom: 12, color: \"#00E0FF\" }}>或手动粘贴 CID</h3>\n              <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 160px\", gap: 12 }}>\n                <input\n                  placeholder=\"粘贴刚上传或已有的题库 CID\"\n                  value={cidManual}\n                  onChange={(e) => setCidManual(e.target.value.trim())}\n                  style={{ padding: 12, borderRadius: 8, border: \"1px solid rgba(0, 224, 255, 0.3)\", background: \"rgba(255,255,255,0.05)\", color: \"#fff\" }}\n                />\n                <Link href={cidManual ? `/quiz?cid=${cidManual}` : \"#\"} style={{ textDecoration: \"none\" }}>\n                  <button className=\"neon-button\" disabled={!cidManual} style={{ width: \"100%\" }}>使用此 CID 开始</button>\n                </Link>\n              </div>\n            </div>\n\n            {/* 状态消息 */}\n            {message && (\n              <div className=\"card\" style={{ background: \"rgba(0, 224, 255, 0.1)\" }}>\n                <p>{message}</p>\n              </div>\n            )}\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}