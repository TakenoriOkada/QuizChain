{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///Users/toolboxb/Desktop/ZAMA/%E5%8D%81%E6%9C%88%E9%A1%B9%E7%9B%AE/%E7%AD%94%E9%A2%98%E6%B8%B8%E6%88%8F/action/quizchain/site/fhevm/internal/fhevm.ts"],"sourcesContent":["import { Eip1193Provider, JsonRpcProvider, isAddress } from \"ethers\";\nimport type { FhevmInstance, FhevmInstanceConfig } from \"../types\";\n\ntype FhevmWindowType = typeof window & {\n  relayerSDK: any & { __initialized__?: boolean; SepoliaConfig: any };\n};\n\nconst SDK_CDN_URL =\n  \"https://cdn.zama.ai/relayer-sdk-js/0.2.0/relayer-sdk-js.umd.cjs\";\n\nfunction isFhevmWindowType(w: any): w is FhevmWindowType {\n  return typeof w !== \"undefined\" && w.relayerSDK;\n}\n\nexport const loadSDK = (): Promise<void> =>\n  new Promise((resolve, reject) => {\n    if (isFhevmWindowType(window) && window.relayerSDK) {\n      resolve();\n      return;\n    }\n    const s = document.createElement(\"script\");\n    s.src = SDK_CDN_URL;\n    s.type = \"text/javascript\";\n    s.async = true;\n    s.onload = () => resolve();\n    s.onerror = () => reject(new Error(\"Failed to load Relayer SDK\"));\n    document.head.appendChild(s);\n  });\n\nexport const initSDK = async (): Promise<void> => {\n  if (!isFhevmWindowType(window)) throw new Error(\"window.relayerSDK missing\");\n  if (window.relayerSDK.__initialized__) return;\n  const ok = await window.relayerSDK.initSDK();\n  if (!ok) throw new Error(\"initSDK failed\");\n  window.relayerSDK.__initialized__ = true;\n};\n\nasync function getChainId(providerOrUrl: Eip1193Provider | string): Promise<number> {\n  if (typeof providerOrUrl === \"string\") {\n    const p = new JsonRpcProvider(providerOrUrl);\n    return Number((await p.getNetwork()).chainId);\n  }\n  const hex = (await providerOrUrl.request({ method: \"eth_chainId\" })) as string;\n  return Number.parseInt(hex, 16);\n}\n\nasync function getWeb3Client(rpcUrl: string) {\n  const rpc = new JsonRpcProvider(rpcUrl);\n  const v = await rpc.send(\"web3_clientVersion\", []);\n  await rpc.destroy();\n  return String(v);\n}\n\nasync function tryFetchFHEVMHardhatNodeRelayerMetadata(rpcUrl: string) {\n  const version = await getWeb3Client(rpcUrl);\n  if (!version.toLowerCase().includes(\"hardhat\")) return undefined;\n  const rpc = new JsonRpcProvider(rpcUrl);\n  try {\n    const meta = await rpc.send(\"fhevm_relayer_metadata\", []);\n    return meta as {\n      ACLAddress: `0x${string}`;\n      InputVerifierAddress: `0x${string}`;\n      KMSVerifierAddress: `0x${string}`;\n    };\n  } finally {\n    await rpc.destroy();\n  }\n}\n\ntype ResolveResult =\n  | { isMock: true; chainId: number; rpcUrl: string }\n  | { isMock: false; chainId: number; rpcUrl?: string };\n\nasync function resolve(providerOrUrl: Eip1193Provider | string, mockChains?: Record<number, string>): Promise<ResolveResult> {\n  const chainId = await getChainId(providerOrUrl);\n  let rpcUrl = typeof providerOrUrl === \"string\" ? providerOrUrl : undefined;\n  const defaults = { 31337: \"http://localhost:8545\", ...(mockChains ?? {}) };\n  if (Object.hasOwn(defaults, chainId)) {\n    if (!rpcUrl) rpcUrl = defaults[chainId];\n    return { isMock: true, chainId, rpcUrl: rpcUrl! };\n  }\n  return { isMock: false, chainId, rpcUrl };\n}\n\nexport async function createFhevmInstance(parameters: {\n  provider: Eip1193Provider | string;\n  mockChains?: Record<number, string>;\n}): Promise<FhevmInstance> {\n  const { provider, mockChains } = parameters;\n  const { isMock, rpcUrl } = await resolve(provider, mockChains);\n\n  if (isMock) {\n    const meta = await tryFetchFHEVMHardhatNodeRelayerMetadata(rpcUrl!);\n    if (meta) {\n      const mod = await import(\"./mock/fhevmMock\");\n      return mod.fhevmMockCreateInstance({ rpcUrl: rpcUrl!, chainId: 31337, metadata: meta });\n    }\n  }\n\n  await loadSDK();\n  await initSDK();\n\n  const relayerSDK = (window as unknown as FhevmWindowType).relayerSDK;\n  const cfg = relayerSDK.SepoliaConfig;\n  const config: FhevmInstanceConfig = { ...cfg, network: provider };\n  const instance = await relayerSDK.createInstance(config);\n  return instance as FhevmInstance;\n}\n\n\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAOA,MAAM,cACJ;AAEF,SAAS,kBAAkB,CAAM;IAC/B,OAAO,OAAO,MAAM,eAAe,EAAE,UAAU;AACjD;AAEO,MAAM,UAAU,IACrB,IAAI,QAAQ,CAAC,SAAS;QACpB,IAAI,kBAAkB,WAAW,OAAO,UAAU,EAAE;YAClD;YACA;QACF;QACA,MAAM,IAAI,SAAS,aAAa,CAAC;QACjC,EAAE,GAAG,GAAG;QACR,EAAE,IAAI,GAAG;QACT,EAAE,KAAK,GAAG;QACV,EAAE,MAAM,GAAG,IAAM;QACjB,EAAE,OAAO,GAAG,IAAM,OAAO,IAAI,MAAM;QACnC,SAAS,IAAI,CAAC,WAAW,CAAC;IAC5B;AAEK,MAAM,UAAU;IACrB,IAAI,CAAC,kBAAkB,SAAS,MAAM,IAAI,MAAM;IAChD,IAAI,OAAO,UAAU,CAAC,eAAe,EAAE;IACvC,MAAM,KAAK,MAAM,OAAO,UAAU,CAAC,OAAO;IAC1C,IAAI,CAAC,IAAI,MAAM,IAAI,MAAM;IACzB,OAAO,UAAU,CAAC,eAAe,GAAG;AACtC;AAEA,eAAe,WAAW,aAAuC;IAC/D,IAAI,OAAO,kBAAkB,UAAU;QACrC,MAAM,IAAI,IAAI,2LAAe,CAAC;QAC9B,OAAO,OAAO,CAAC,MAAM,EAAE,UAAU,EAAE,EAAE,OAAO;IAC9C;IACA,MAAM,MAAO,MAAM,cAAc,OAAO,CAAC;QAAE,QAAQ;IAAc;IACjE,OAAO,OAAO,QAAQ,CAAC,KAAK;AAC9B;AAEA,eAAe,cAAc,MAAc;IACzC,MAAM,MAAM,IAAI,2LAAe,CAAC;IAChC,MAAM,IAAI,MAAM,IAAI,IAAI,CAAC,sBAAsB,EAAE;IACjD,MAAM,IAAI,OAAO;IACjB,OAAO,OAAO;AAChB;AAEA,eAAe,wCAAwC,MAAc;IACnE,MAAM,UAAU,MAAM,cAAc;IACpC,IAAI,CAAC,QAAQ,WAAW,GAAG,QAAQ,CAAC,YAAY,OAAO;IACvD,MAAM,MAAM,IAAI,2LAAe,CAAC;IAChC,IAAI;QACF,MAAM,OAAO,MAAM,IAAI,IAAI,CAAC,0BAA0B,EAAE;QACxD,OAAO;IAKT,SAAU;QACR,MAAM,IAAI,OAAO;IACnB;AACF;AAMA,eAAe,QAAQ,aAAuC,EAAE,UAAmC;IACjG,MAAM,UAAU,MAAM,WAAW;IACjC,IAAI,SAAS,OAAO,kBAAkB,WAAW,gBAAgB;IACjE,MAAM,WAAW;QAAE,OAAO;QAAyB,GAAI,cAAc,CAAC,CAAC;IAAE;IACzE,IAAI,OAAO,MAAM,CAAC,UAAU,UAAU;QACpC,IAAI,CAAC,QAAQ,SAAS,QAAQ,CAAC,QAAQ;QACvC,OAAO;YAAE,QAAQ;YAAM;YAAS,QAAQ;QAAQ;IAClD;IACA,OAAO;QAAE,QAAQ;QAAO;QAAS;IAAO;AAC1C;AAEO,eAAe,oBAAoB,UAGzC;IACC,MAAM,EAAE,QAAQ,EAAE,UAAU,EAAE,GAAG;IACjC,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,QAAQ,UAAU;IAEnD,IAAI,QAAQ;QACV,MAAM,OAAO,MAAM,wCAAwC;QAC3D,IAAI,MAAM;YACR,MAAM,MAAM;YACZ,OAAO,IAAI,uBAAuB,CAAC;gBAAE,QAAQ;gBAAS,SAAS;gBAAO,UAAU;YAAK;QACvF;IACF;IAEA,MAAM;IACN,MAAM;IAEN,MAAM,aAAa,AAAC,OAAsC,UAAU;IACpE,MAAM,MAAM,WAAW,aAAa;IACpC,MAAM,SAA8B;QAAE,GAAG,GAAG;QAAE,SAAS;IAAS;IAChE,MAAM,WAAW,MAAM,WAAW,cAAc,CAAC;IACjD,OAAO;AACT","debugId":null}},
    {"offset": {"line": 181, "column": 0}, "map": {"version":3,"sources":["file:///Users/toolboxb/Desktop/ZAMA/%E5%8D%81%E6%9C%88%E9%A1%B9%E7%9B%AE/%E7%AD%94%E9%A2%98%E6%B8%B8%E6%88%8F/action/quizchain/site/abi/QuizChainABI.ts"],"sourcesContent":["export const QuizChainABI = {\n  \"abi\": [\n    {\n      \"inputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"constructor\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"sender\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        },\n        {\n          \"internalType\": \"address\",\n          \"name\": \"owner\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"ERC721IncorrectOwner\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"operator\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"ERC721InsufficientApproval\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"approver\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"ERC721InvalidApprover\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"operator\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"ERC721InvalidOperator\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"owner\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"ERC721InvalidOwner\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"receiver\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"ERC721InvalidReceiver\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"sender\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"ERC721InvalidSender\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"ERC721NonexistentToken\",\n      \"type\": \"error\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"user\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": true,\n          \"internalType\": \"uint256\",\n          \"name\": \"quizId\",\n          \"type\": \"uint256\"\n        },\n        {\n          \"indexed\": false,\n          \"internalType\": \"bool\",\n          \"name\": \"correct\",\n          \"type\": \"bool\"\n        }\n      ],\n      \"name\": \"AnswerVerified\",\n      \"type\": \"event\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"owner\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"approved\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": true,\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"Approval\",\n      \"type\": \"event\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"owner\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"operator\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": false,\n          \"internalType\": \"bool\",\n          \"name\": \"approved\",\n          \"type\": \"bool\"\n        }\n      ],\n      \"name\": \"ApprovalForAll\",\n      \"type\": \"event\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"user\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": false,\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        },\n        {\n          \"indexed\": false,\n          \"internalType\": \"uint256\",\n          \"name\": \"timestamp\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"NFTClaimed\",\n      \"type\": \"event\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"user\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": false,\n          \"internalType\": \"uint256\",\n          \"name\": \"score\",\n          \"type\": \"uint256\"\n        },\n        {\n          \"indexed\": false,\n          \"internalType\": \"uint256\",\n          \"name\": \"timestamp\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"QuizCompleted\",\n      \"type\": \"event\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"from\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"to\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": true,\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"Transfer\",\n      \"type\": \"event\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"to\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"approve\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"owner\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"balanceOf\",\n      \"outputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"claimNFT\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"getApproved\",\n      \"outputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"\",\n          \"type\": \"address\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"getEncryptedScore\",\n      \"outputs\": [\n        {\n          \"internalType\": \"euint32\",\n          \"name\": \"\",\n          \"type\": \"bytes32\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"offset\",\n          \"type\": \"uint256\"\n        },\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"limit\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"getPlayers\",\n      \"outputs\": [\n        {\n          \"internalType\": \"address[]\",\n          \"name\": \"\",\n          \"type\": \"address[]\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"owner\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"address\",\n          \"name\": \"operator\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"isApprovedForAll\",\n      \"outputs\": [\n        {\n          \"internalType\": \"bool\",\n          \"name\": \"\",\n          \"type\": \"bool\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"name\",\n      \"outputs\": [\n        {\n          \"internalType\": \"string\",\n          \"name\": \"\",\n          \"type\": \"string\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"nextTokenId\",\n      \"outputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"ownerOf\",\n      \"outputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"\",\n          \"type\": \"address\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"protocolId\",\n      \"outputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"stateMutability\": \"pure\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"quizzes\",\n      \"outputs\": [\n        {\n          \"internalType\": \"bytes32\",\n          \"name\": \"answerHash\",\n          \"type\": \"bytes32\"\n        },\n        {\n          \"internalType\": \"uint32\",\n          \"name\": \"points\",\n          \"type\": \"uint32\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"from\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"address\",\n          \"name\": \"to\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"safeTransferFrom\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"from\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"address\",\n          \"name\": \"to\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        },\n        {\n          \"internalType\": \"bytes\",\n          \"name\": \"data\",\n          \"type\": \"bytes\"\n        }\n      ],\n      \"name\": \"safeTransferFrom\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"scoreThreshold\",\n      \"outputs\": [\n        {\n          \"internalType\": \"uint32\",\n          \"name\": \"\",\n          \"type\": \"uint32\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"operator\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"bool\",\n          \"name\": \"approved\",\n          \"type\": \"bool\"\n        }\n      ],\n      \"name\": \"setApprovalForAll\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"quizId\",\n          \"type\": \"uint256\"\n        },\n        {\n          \"internalType\": \"bytes32\",\n          \"name\": \"answerHash\",\n          \"type\": \"bytes32\"\n        },\n        {\n          \"internalType\": \"uint32\",\n          \"name\": \"points\",\n          \"type\": \"uint32\"\n        }\n      ],\n      \"name\": \"setQuiz\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"uint256[]\",\n          \"name\": \"quizIds\",\n          \"type\": \"uint256[]\"\n        },\n        {\n          \"internalType\": \"bytes32[]\",\n          \"name\": \"answerHashes\",\n          \"type\": \"bytes32[]\"\n        },\n        {\n          \"internalType\": \"uint32[]\",\n          \"name\": \"points\",\n          \"type\": \"uint32[]\"\n        }\n      ],\n      \"name\": \"setQuizzes\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"uint32\",\n          \"name\": \"threshold\",\n          \"type\": \"uint32\"\n        }\n      ],\n      \"name\": \"setScoreThreshold\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"bytes4\",\n          \"name\": \"interfaceId\",\n          \"type\": \"bytes4\"\n        }\n      ],\n      \"name\": \"supportsInterface\",\n      \"outputs\": [\n        {\n          \"internalType\": \"bool\",\n          \"name\": \"\",\n          \"type\": \"bool\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"symbol\",\n      \"outputs\": [\n        {\n          \"internalType\": \"string\",\n          \"name\": \"\",\n          \"type\": \"string\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"tokenURI\",\n      \"outputs\": [\n        {\n          \"internalType\": \"string\",\n          \"name\": \"\",\n          \"type\": \"string\"\n        }\n      ],\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"from\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"address\",\n          \"name\": \"to\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"transferFrom\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"quizId\",\n          \"type\": \"uint256\"\n        },\n        {\n          \"internalType\": \"bytes32\",\n          \"name\": \"answerHash\",\n          \"type\": \"bytes32\"\n        },\n        {\n          \"internalType\": \"externalEuint32\",\n          \"name\": \"encryptedPoints\",\n          \"type\": \"bytes32\"\n        },\n        {\n          \"internalType\": \"bytes\",\n          \"name\": \"inputProof\",\n          \"type\": \"bytes\"\n        }\n      ],\n      \"name\": \"verifyAnswer\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    }\n  ]\n} as const;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 900, "column": 0}, "map": {"version":3,"sources":["file:///Users/toolboxb/Desktop/ZAMA/%E5%8D%81%E6%9C%88%E9%A1%B9%E7%9B%AE/%E7%AD%94%E9%A2%98%E6%B8%B8%E6%88%8F/action/quizchain/site/abi/QuizChainAddresses.ts"],"sourcesContent":["export const QuizChainAddresses = {\n  \"sepolia\": {\n    \"address\": \"0x0E90c808CEF5C81ccb55165976823996e3213eBF\",\n    \"chainName\": \"sepolia\"\n  }\n} as const;\n"],"names":[],"mappings":";;;;AAAO,MAAM,qBAAqB;IAChC,WAAW;QACT,WAAW;QACX,aAAa;IACf;AACF","debugId":null}},
    {"offset": {"line": 914, "column": 0}, "map": {"version":3,"sources":["file:///Users/toolboxb/Desktop/ZAMA/%E5%8D%81%E6%9C%88%E9%A1%B9%E7%9B%AE/%E7%AD%94%E9%A2%98%E6%B8%B8%E6%88%8F/action/quizchain/site/hooks/useQuizChain.ts"],"sourcesContent":["\"use client\";\n\nimport { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { BrowserProvider, Contract, JsonRpcSigner, ethers } from \"ethers\";\nimport { createFhevmInstance } from \"../fhevm/internal/fhevm\";\nimport { QuizChainABI } from \"../abi/QuizChainABI\";\nimport { QuizChainAddresses } from \"../abi/QuizChainAddresses\";\n\nexport type QuizItem = {\n  id: number;\n  question: string;\n  options: string[];\n  // IPFS Êï∞ÊçÆÈÄöÂ∏∏ÂåÖÂê´ÊòéÊñáÁ≠îÊ°àÔºåÂâçÁ´Ø‰ªÖÁî®‰∫éÊú¨Âú∞Âà§ÂÆö‰∏éÂ±ïÁ§∫\n  answer?: string;\n};\n\nexport type UseQuizChainParams = {\n  ipfsCid: string; // e.g. \"Qm...\"\n  questionCount?: number; // default 5\n};\n\nexport function useQuizChain(params: UseQuizChainParams) {\n  const { ipfsCid, questionCount = 5 } = params;\n\n  const [provider, setProvider] = useState<ethers.Eip1193Provider | string | undefined>(undefined);\n  const [signer, setSigner] = useState<JsonRpcSigner | undefined>(undefined);\n  const [address, setAddress] = useState<string | undefined>(undefined);\n  const [chainId, setChainId] = useState<number | undefined>(undefined);\n  const [instance, setInstance] = useState<any>(undefined);\n  const [error, setError] = useState<string | undefined>(undefined);\n  const [message, setMessage] = useState<string>(\"\");\n\n  const [allQuestions, setAllQuestions] = useState<QuizItem[]>([]);\n  const [quiz, setQuiz] = useState<QuizItem[]>([]);\n  const [index, setIndex] = useState<number>(0);\n  const [finished, setFinished] = useState<boolean>(false);\n  const [scoreClear, setScoreClear] = useState<string | undefined>(undefined);\n  const [loadingQuestions, setLoadingQuestions] = useState<boolean>(false);\n  const [started, setStarted] = useState<boolean>(false);\n  const [localScore, setLocalScore] = useState<number>(0);\n\n  // --- Web3 init ---\n  useEffect(() => {\n    const w = (window as any).ethereum;\n    if (!w) {\n      setError(\"MetaMask not found\");\n      return;\n    }\n    setProvider(w);\n    const bp = new BrowserProvider(w);\n    bp.getSigner().then((s) => setSigner(s));\n    w.request({ method: \"eth_chainId\" }).then((h: string) => setChainId(parseInt(h, 16)));\n    w.request({ method: \"eth_requestAccounts\" }).then((accounts: string[]) => setAddress(accounts?.[0]));\n  }, []);\n\n  // --- FHEVM instance ---\n  useEffect(() => {\n    if (!provider || !chainId) return;\n    createFhevmInstance({ provider, mockChains: { 31337: \"http://localhost:8545\" } })\n      .then((i) => setInstance(i))\n      .catch((e) => setError(\"Init FHEVM failed: \" + e.message));\n  }, [provider, chainId]);\n\n  const contractInfo = useMemo(() => {\n    if (!chainId) return undefined as any;\n    const n = chainId === 31337 ? \"localhost\" : chainId === 11155111 ? \"sepolia\" : undefined;\n    if (!n) return undefined as any;\n    const info = (QuizChainAddresses as any)[n];\n    if (!info?.address) return undefined as any;\n    return info;\n  }, [chainId]);\n\n  const contract = useMemo(() => {\n    if (!signer || !contractInfo?.address) return undefined;\n    return new Contract(contractInfo.address, QuizChainABI.abi, signer);\n  }, [signer, contractInfo]);\n\n  // --- IPFS load ---\n  const loadFromIPFS = useCallback(async () => {\n    try {\n      setLoadingQuestions(true);\n      const url = `https://ipfs.io/ipfs/${ipfsCid}`;\n      const res = await fetch(url);\n      const arr = (await res.json()) as QuizItem[];\n      setAllQuestions(arr);\n      return arr;\n    } catch (e: any) {\n      setError(\"Load IPFS failed: \" + e?.message);\n      return [];\n    }\n  }, [ipfsCid]);\n\n  // È¢ÑÂèñÈ¢òÂ∫ìÔºå‰æø‰∫éÂú®ÂºÄÂßãÂâçÊòæÁ§∫Êï∞ÈáèÂπ∂ÂêØÁî®ÊåâÈíÆ\n  useEffect(() => {\n    if (!ipfsCid) return;\n    loadFromIPFS()\n      .catch(() => {})\n      .finally(() => setLoadingQuestions(false));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ipfsCid]);\n\n  const start = useCallback(async () => {\n    setFinished(false);\n    setStarted(true);\n    setScoreClear(undefined);\n    setIndex(0);\n    setLocalScore(0);\n    const arr = allQuestions.length ? allQuestions : await loadFromIPFS();\n    // ÈöèÊú∫ÊäΩÂèñ questionCount\n    const shuffled = [...arr].sort(() => Math.random() - 0.5).slice(0, questionCount);\n    setQuiz(shuffled);\n  }, [allQuestions, loadFromIPFS, questionCount]);\n\n  const current = useMemo(() => quiz[index], [quiz, index]);\n\n  const answer = useCallback(async (optionIndex: number) => {\n    if (!contract || !instance || !address || !current) return;\n    try {\n      const choice = current.options[optionIndex];\n      const ansHash = ethers.keccak256(ethers.toUtf8Bytes(choice));\n      const input = instance.createEncryptedInput(contract.target as string, address);\n      input.add32(10); // ÊØèÈ¢ò +10\n      const enc = await input.encrypt();\n      await (await contract.verifyAnswer(current.id, ansHash, enc.handles[0], enc.inputProof)).wait();\n\n      // Êú¨Âú∞Âà§ÂÆöÊ≠£Á°ÆÊÄßÁî®‰∫éÂç≥Êó∂ÂàÜÊï∞Â±ïÁ§∫ÔºàÈìæ‰∏ä‰ªç‰ª•ÂØÜÊñáÁ¥ØÂä†Ôºâ\n      const isCorrect = (current as any).answer ? choice === (current as any).answer : false;\n      if (isCorrect) setLocalScore((s) => s + 10);\n\n      if (index + 1 >= quiz.length) {\n        setFinished(true);\n      } else {\n        setIndex((i) => i + 1);\n      }\n    } catch (e: any) {\n      setError(\"Submit failed: \" + e?.message);\n    }\n  }, [contract, instance, address, current, index, quiz.length]);\n\n  const refreshScore = useCallback(async () => {\n    // ‰∏¥Êó∂Ôºö‰ΩøÁî®Êú¨Âú∞Á¥ØËÆ°ÂàÜÊï∞Â±ïÁ§∫ÔºõÂêéÁª≠ÂèØÊõøÊç¢‰∏∫ instance.userDecrypt(getEncryptedScore())\n    setScoreClear(String(localScore));\n  }, [localScore]);\n\n  const claim = useCallback(async () => {\n    if (!contract) return;\n    try {\n      await (await contract.claimNFT()).wait();\n      setMessage(\"NFT claimed\");\n    } catch (e: any) {\n      setError(\"Claim failed: \" + e?.message);\n    }\n  }, [contract]);\n\n  return {\n    // web3\n    provider, signer, address, chainId, instance,\n    // quiz state\n    quiz, current, index, finished, started, allQuestions, localScore,\n    // score\n    scoreClear,\n    // loading\n    loadingQuestions,\n    // errors\n    error, message,\n    // actions\n    start, answer, refreshScore, claim,\n  } as const;\n}\n\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1118, "column": 0}, "map": {"version":3,"sources":["file:///Users/toolboxb/Desktop/ZAMA/%E5%8D%81%E6%9C%88%E9%A1%B9%E7%9B%AE/%E7%AD%94%E9%A2%98%E6%B8%B8%E6%88%8F/action/quizchain/site/app/quiz/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useSearchParams, useRouter } from \"next/navigation\";\nimport { useQuizChain } from \"../../hooks/useQuizChain\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { useEffect, useState } from \"react\";\n\nexport default function QuizPage() {\n  const router = useRouter();\n  const params = useSearchParams();\n  const cid = params?.get(\"cid\") ?? \"\";\n  const qz = useQuizChain({ ipfsCid: cid, questionCount: 3 });\n  \n  const [timeLeft, setTimeLeft] = useState(120);\n  const [selectedOption, setSelectedOption] = useState<number | null>(null);\n  const [showResult, setShowResult] = useState(false);\n  const [answerResult, setAnswerResult] = useState<\"correct\" | \"wrong\" | null>(null);\n\n  // ËÆ°Êó∂Âô®ÈÄªËæë\n  useEffect(() => {\n    if (!qz.started || qz.finished) return;\n    if (timeLeft <= 0) {\n      handleTimeout();\n      return;\n    }\n    const timer = setTimeout(() => setTimeLeft(t => t - 1), 1000);\n    return () => clearTimeout(timer);\n  }, [timeLeft, qz.started, qz.finished]);\n\n  // ÈáçÁΩÆËÆ°Êó∂Âô®\n  useEffect(() => {\n    setTimeLeft(120);\n    setSelectedOption(null);\n    setShowResult(false);\n    setAnswerResult(null);\n  }, [qz.index]);\n\n  const handleTimeout = () => {\n    qz.answer(0); // Ë∂ÖÊó∂ÈªòËÆ§ÈÄâÁ¨¨‰∏Ä‰∏™ÈÄâÈ°π\n  };\n\n  const handleAnswer = async (optionIndex: number) => {\n    if (selectedOption !== null) return; // Èò≤Ê≠¢ÈáçÂ§çÁÇπÂáª\n    setSelectedOption(optionIndex);\n    \n    // Ê®°ÊãüÂà§Êñ≠Ê≠£Á°Æ/ÈîôËØØÔºàËøôÈáåÁÆÄÂåñÂ§ÑÁêÜÔºåÂÆûÈôÖÊ†πÊçÆÂêàÁ∫¶ËøîÂõûÔºâ\n    const isCorrect = qz.current?.answer === qz.current?.options[optionIndex];\n    setAnswerResult(isCorrect ? \"correct\" : \"wrong\");\n    setShowResult(true);\n\n    // Âª∂ËøüÊèê‰∫§Âà∞ÂêàÁ∫¶ÔºåËÆ©Áî®Êà∑ÁúãÂà∞ÁªìÊûúÂä®Áîª\n    setTimeout(async () => {\n      await qz.answer(optionIndex);\n      setShowResult(false);\n    }, 1500);\n  };\n\n  const progressPercent = qz.quiz.length > 0 ? ((qz.index + 1) / qz.quiz.length) * 100 : 0;\n\n  // Áº∫Â∞ë CID ÊèêÁ§∫\n  if (!cid) {\n    return (\n      <div style={{ \n        minHeight: \"100vh\", \n        width: \"100%\", \n        display: \"flex\", \n        alignItems: \"center\", \n        justifyContent: \"center\",\n        padding: \"20px\"\n      }}>\n        <motion.div \n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"card\" \n          style={{ maxWidth: 600, width: \"100%\", textAlign: \"center\", padding: 40 }}\n        >\n          <h1 className=\"neon-text\" style={{ fontSize: 36, marginBottom: 24 }}>‚ö†Ô∏è Áº∫Â∞ëÈ¢òÂ∫ì</h1>\n          <p style={{ fontSize: 18, marginBottom: 32, color: \"#aaa\" }}>\n            ËØ∑‰ªéÈ¶ñÈ°µ‰∏ä‰º†È¢òÂ∫ìÂπ∂Ëé∑Âèñ CIDÔºåÊàñÊâãÂä®ËæìÂÖ• CID ÂêéÂºÄÂßãÁ≠îÈ¢ò„ÄÇ\n          </p>\n          <button className=\"neon-button\" onClick={() => router.push(\"/\")} style={{ padding: \"16px 32px\", fontSize: 18 }}>\n            ËøîÂõûÈ¶ñÈ°µ\n          </button>\n        </motion.div>\n      </div>\n    );\n  }\n\n  // ÂºÄÂßãÂâçÁïåÈù¢\n  if (!qz.started) {\n    return (\n      <div style={{ \n        minHeight: \"100vh\", \n        width: \"100%\", \n        display: \"flex\", \n        alignItems: \"center\", \n        justifyContent: \"center\",\n        padding: \"20px\"\n      }}>\n        <motion.div \n          initial={{ opacity: 0, scale: 0.9 }}\n          animate={{ opacity: 1, scale: 1 }}\n          className=\"card\" \n          style={{ maxWidth: 700, width: \"100%\", textAlign: \"center\", padding: 40 }}\n        >\n          <motion.h1 \n            className=\"neon-text\" \n            style={{ fontSize: 44, marginBottom: 20, textShadow: \"0 0 10px #00E0FF, 0 0 18px #6759FF\" }}\n            animate={{ scale: [1, 1.05, 1] }}\n            transition={{ repeat: Infinity, duration: 2 }}\n          >\n            üéØ QuizChain Á≠îÈ¢òÊåëÊàò\n          </motion.h1>\n          <p style={{ fontSize: 16, marginBottom: 8, color: \"#9ecde0\" }}>È¢òÂ∫ì CID: <span style={{ color: \"#00E0FF\" }}>{cid.slice(0, 12)}...</span></p>\n          {(qz.allQuestions.length === 0) ? (\n            <p style={{ fontSize: 18, marginBottom: 28, color: \"#aaa\" }}>Ê≠£Âú®‰ªé IPFS Âä†ËΩΩÈ¢òÁõÆ‚Ä¶</p>\n          ) : (\n            <p style={{ fontSize: 18, marginBottom: 28, color: \"#9aa3b2\" }}>È¢òÂ∫ìÂÖ± {qz.allQuestions.length} È¢ò ¬∑ ÊØèÊ¨°ÈöèÊú∫Âá∫ {Math.min(3, qz.allQuestions.length)} È¢ò</p>\n          )}\n          {qz.error && <p style={{ color: \"#ff6b6b\", marginBottom: 16 }}>{qz.error}</p>}\n          <motion.button \n            className=\"neon-button\" \n            whileHover={{ scale: 1.1 }}\n            whileTap={{ scale: 0.95 }}\n            onClick={qz.start}\n            disabled={!cid || qz.allQuestions.length === 0}\n            style={{ padding: \"18px 48px\", fontSize: 22, fontWeight: 700 }}\n          >\n            {qz.allQuestions.length === 0 ? \"Âä†ËΩΩ‰∏≠‚Ä¶\" : \"ÂºÄÂßãÁ≠îÈ¢ò üöÄ\"}\n          </motion.button>\n        </motion.div>\n      </div>\n    );\n  }\n\n  // Á≠îÈ¢òÂÆåÊàêÁïåÈù¢\n  if (qz.finished) {\n    return (\n      <div style={{ \n        minHeight: \"100vh\", \n        width: \"100%\", \n        display: \"flex\", \n        alignItems: \"center\", \n        justifyContent: \"center\",\n        padding: \"20px\"\n      }}>\n        <motion.div \n          initial={{ opacity: 0, scale: 0.8 }}\n          animate={{ opacity: 1, scale: 1 }}\n          className=\"card\" \n          style={{ maxWidth: 700, width: \"100%\", textAlign: \"center\", padding: 50 }}\n        >\n          <motion.div\n            animate={{ rotate: [0, 10, -10, 0] }}\n            transition={{ repeat: 3, duration: 0.3 }}\n          >\n            <h1 className=\"neon-text\" style={{ fontSize: 56, marginBottom: 24 }}>üéâ ÊÅ≠ÂñúÂÆåÊàêÔºÅ</h1>\n          </motion.div>\n          <div style={{ marginBottom: 32 }}>\n            <p style={{ fontSize: 22, color: \"#bbb\", marginBottom: 12 }}>ÊÇ®ÁöÑÂàÜÊï∞</p>\n            <motion.div \n              className=\"neon-text\"\n              style={{ fontSize: 80, fontWeight: 900 }}\n              initial={{ scale: 0 }}\n              animate={{ scale: 1 }}\n              transition={{ type: \"spring\", stiffness: 200 }}\n            >\n              {qz.scoreClear ?? '-'}\n            </motion.div>\n            <p style={{ fontSize: 18, color: \"#888\", marginTop: 12 }}>ÊÄªÂàÜ: {qz.quiz.length * 10}</p>\n            <div style={{ marginTop: 20 }}>\n              <button \n                className=\"neon-button\" \n                onClick={qz.refreshScore}\n                style={{ padding: \"12px 28px\", fontSize: 16 }}\n              >\n                Ëß£ÂØÜÂπ∂Êü•ÁúãÂàÜÊï∞ üîê\n              </button>\n            </div>\n          </div>\n\n          {qz.scoreClear && qz.scoreClear >= 100 && (\n            <motion.div\n              initial={{ y: 20, opacity: 0 }}\n              animate={{ y: 0, opacity: 1 }}\n              transition={{ delay: 0.5 }}\n            >\n              <p style={{ fontSize: 20, color: \"#00E0FF\", marginBottom: 20 }}>‚ú® ËææÂà∞È¢ÜÂèñ NFT Êù°‰ª∂ÔºÅ</p>\n              <button \n                className=\"neon-button\" \n                onClick={qz.claim}\n                style={{ padding: \"18px 48px\", fontSize: 22, marginBottom: 16 }}\n              >\n                È¢ÜÂèñ NFT üèÜ\n              </button>\n            </motion.div>\n          )}\n\n          <div style={{ display: \"flex\", gap: 16, justifyContent: \"center\", marginTop: 24 }}>\n            <button className=\"neon-button\" onClick={() => router.push(\"/\")} style={{ padding: \"14px 28px\" }}>\n              ËøîÂõûÈ¶ñÈ°µ\n            </button>\n            <button className=\"neon-button\" onClick={() => router.push(\"/rank\")} style={{ padding: \"14px 28px\" }}>\n              Êü•ÁúãÊéíË°åÊ¶ú\n            </button>\n          </div>\n        </motion.div>\n      </div>\n    );\n  }\n\n  // Á≠îÈ¢òËøõË°å‰∏≠\n  return (\n    <div style={{ \n      minHeight: \"100vh\", \n      width: \"100%\", \n      display: \"flex\", \n      alignItems: \"center\", \n      justifyContent: \"center\",\n      padding: \"20px\",\n      position: \"relative\"\n    }}>\n      {/* È°∂ÈÉ®ËøõÂ∫¶Êù° */}\n      <div style={{ position: \"fixed\", top: 0, left: 0, right: 0, height: 6, background: \"rgba(255,255,255,0.1)\", zIndex: 100 }}>\n        <motion.div \n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          style={{ height: \"100%\", background: \"linear-gradient(90deg, #6759FF, #00E0FF)\", borderRadius: 3, width: `${progressPercent}%` }}\n          transition={{ duration: 0.3 }}\n        />\n      </div>\n\n      <motion.div \n        initial={{ opacity: 0, scale: 0.95 }}\n        animate={{ opacity: 1, scale: 1 }}\n        className=\"card\" \n        style={{ maxWidth: 900, width: \"100%\", padding: 40 }}\n      >\n        {/* È¢òÁõÆÂ§¥ÈÉ® */}\n        <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: 32 }}>\n          <div>\n            <span style={{ fontSize: 18, color: \"#bbb\" }}>È¢òÁõÆ </span>\n            <span className=\"neon-text\" style={{ fontSize: 28, fontWeight: 700 }}>{qz.index + 1}</span>\n            <span style={{ fontSize: 18, color: \"#bbb\" }}> / {qz.quiz.length}</span>\n          </div>\n          <motion.div \n            style={{ \n              fontSize: 32, \n              fontWeight: 900, \n              color: timeLeft <= 10 ? \"#ff6b6b\" : \"#00E0FF\",\n              textShadow: timeLeft <= 10 ? \"0 0 20px #ff6b6b\" : \"0 0 20px #00E0FF\"\n            }}\n            animate={timeLeft <= 10 ? { scale: [1, 1.1, 1] } : {}}\n            transition={{ repeat: timeLeft <= 10 ? Infinity : 0, duration: 0.5 }}\n          >\n            ‚è±Ô∏è {timeLeft}s\n          </motion.div>\n        </div>\n\n        {/* È¢òÁõÆÂÜÖÂÆπ */}\n        <AnimatePresence mode=\"wait\">\n          {qz.current && (\n            <motion.div\n              key={qz.index}\n              initial={{ x: 100, opacity: 0 }}\n              animate={{ x: 0, opacity: 1 }}\n              exit={{ x: -100, opacity: 0 }}\n              transition={{ duration: 0.3 }}\n            >\n              <h2 style={{ fontSize: 28, marginBottom: 40, lineHeight: 1.6, color: \"#fff\" }}>\n                {qz.current.question}\n              </h2>\n\n              {/* ÈÄâÈ°πÂàóË°® */}\n              <div style={{ display: \"grid\", gap: 20 }}>\n                {qz.current.options.map((option, i) => {\n                  const isSelected = selectedOption === i;\n                  const showCorrect = showResult && answerResult === \"correct\" && isSelected;\n                  const showWrong = showResult && answerResult === \"wrong\" && isSelected;\n\n                  return (\n                    <motion.button\n                      key={i}\n                      className=\"neon-button\"\n                      whileHover={selectedOption === null ? { scale: 1.02, x: 10 } : {}}\n                      whileTap={selectedOption === null ? { scale: 0.98 } : {}}\n                      onClick={() => handleAnswer(i)}\n                      disabled={selectedOption !== null}\n                      style={{\n                        padding: \"20px 28px\",\n                        fontSize: 20,\n                        textAlign: \"left\",\n                        position: \"relative\",\n                        overflow: \"hidden\",\n                        background: showCorrect \n                          ? \"linear-gradient(135deg, #00E676, #00C853)\" \n                          : showWrong \n                          ? \"linear-gradient(135deg, #ff6b6b, #ee5a6f)\" \n                          : isSelected\n                          ? \"linear-gradient(135deg, #4A90E2, #357ABD)\"\n                          : \"linear-gradient(135deg, #6759FF, #8B7FFF)\",\n                        border: isSelected ? \"2px solid #fff\" : \"2px solid #00E0FF\",\n                        cursor: selectedOption !== null ? \"not-allowed\" : \"pointer\",\n                        opacity: selectedOption !== null && !isSelected ? 0.4 : 1,\n                      }}\n                      animate={showCorrect || showWrong ? { scale: [1, 1.05, 1] } : {}}\n                      transition={{ duration: 0.3 }}\n                    >\n                      <span style={{ marginRight: 12, fontSize: 22, fontWeight: 700 }}>\n                        {String.fromCharCode(65 + i)}.\n                      </span>\n                      {option}\n                      {showCorrect && <span style={{ marginLeft: 12 }}>‚úÖ</span>}\n                      {showWrong && <span style={{ marginLeft: 12 }}>‚ùå</span>}\n                    </motion.button>\n                  );\n                })}\n              </div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* Â∫ïÈÉ®ÂàÜÊï∞ */}\n        <div style={{ marginTop: 40, textAlign: \"center\", fontSize: 18, color: \"#bbb\" }}>\n          ÂΩìÂâçÂàÜÊï∞: <span className=\"neon-text\" style={{ fontSize: 24, fontWeight: 700 }}>{qz.scoreClear ?? 0}</span>\n        </div>\n      </motion.div>\n    </div>\n  );\n}\n\n\n"],"names":[],"mappings":"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","debugId":null}}]
}